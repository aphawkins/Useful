@page "/reflector"
@using Useful.Security.Cryptography.UI.ViewModels;

<h1>@cipher.CipherName Cipher</h1>

<div class="cipher_container">
    <div class="cipher_row">
        <div class="cipher_half_width">Plaintext</div>
        <div class="cipher_half_width">Ciphertext</div>
    </div>
    <div class="cipher_row">
        <div class="cipher_half_width"><input @bind="cipher.Plaintext" /></div>
        <div class="cipher_half_width"><input @bind="cipher.Ciphertext" /></div>
    </div>
    <div class="cipher_row">
        @foreach (char c in cipher.CharacterSet)
        {
            <div class="cipher_alphabet_width">
                @c
            </div>
        }
    </div>
    <div class="cipher_row">
        @foreach (char sub in cipher.CharacterSet)
        {
            <div class="cipher_alphabet_width">
                <select id=@sub
                        @bind="@cipher[sub]">
                    @foreach (char c in cipher.CharacterSet)
                    {
                        <option value="@c">@c</option>
                    }
                </select>
            </div>
        }
    </div>
    <div class="cipher_row">
        <div><button class=" btn btn-primary" @onclick="cipher.Defaults">Defaults</button></div>
        <div>
            <button class=" btn btn-primary" @onclick="cipher.Randomize">Randomise</button>
        </div>
    </div>
    <div class="cipher_row">
        <div class="cipher_half_width"><button class=" btn btn-primary" @onclick="cipher.Encrypt">Encrypt</button></div>
        <div class="cipher_half_width"><button class="btn btn-primary" @onclick="cipher.Decrypt">Decrypt</button></div>
    </div>
</div>

@code {
    ReflectorViewModel cipher = new();
}